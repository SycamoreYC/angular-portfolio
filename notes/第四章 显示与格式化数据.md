# ç¬¬å››ç«  æ˜¾ç¤ºä¸æ ¼å¼åŒ–æ•°æ®

## 4.1 å¼•ç”¨æŒ‡ä»¤

æŒ‡ä»¤çš„å‘½ååœ¨jsä¸­ï¼šé©¼å³°å‘½åæ³•

æ¨¡ç‰ˆä¸­ï¼šè›‡å½¢ï¼ˆsnaks-caseï¼‰

## 4.2 æ˜¾ç¤ºè¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœ

### æ’å€¼æŒ‡ä»¤

> æ’å€¼æŒ‡ä»¤æ—¶ç°å®æ¨¡å‹æ•°æ®æ—¶æœ€åŸºç¡€çš„æŒ‡ä»¤ï¼Œå®ƒæ¥å—ç”¨èŠ±æ‹¬å·å®šç•Œçš„è¡¨è¾¾å¼ï¼š
>
> ```javascript
> <span> {{expression}} </span>
> ```
>
> è¯¥æŒ‡ä»¤ä¼šç®€å•åœ°å¯¹`expression`æ±‚å€¼ï¼Œå¹¶åœ¨å±å¹•ä¸Šæ¸²æŸ“ç»“æœã€‚

èŠ±é˜”å·ä¸æ˜¯å”¯ä¸€ç¡®å®šçš„ï¼Œæ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œåªéœ€è¦åœ¨æ¨¡å—ä¸Šé…ç½®ä¸€ä¸‹å°±å¥½äº†

```javascript
myModule.config(function($interpolateProvider) {
  $interpolateProvider.startSynbol('[[');
  $interpolateProvider.endSynbol(']]');
})
```

è¿™æ ·åœ¨æ¨¡ç‰ˆä¸Šå°±å¯ä»¥ä½¿ç”¨`[[expression]]`ã€‚

### åˆ©ç”¨ngBindæ¸²æŸ“æ¨¡å‹å€¼

> æ’å€¼æŒ‡ä»¤æ‹¥æœ‰åä¸º`ng-bind`çš„ç­‰æ•ˆæŒ‡ä»¤ï¼Œå®ƒå¯ä»¥è¢«ç”¨ä½œHTMLå±æ€§ï¼š
>
> ```javascript
> <span ng-bind="expression"></span>
> ```
>
> å¥½å¤„ï¼š æœ‰æ•ˆçš„é¢„é˜²UIé—ªçƒ

### AngularJSè¡¨è¾¾å¼ä¸­çš„HTMLå†…å®¹

> é»˜è®¤æƒ…å†µä¸‹ï¼ŒAngular JSä¼šå¯¹æ’å€¼æŒ‡ä»¤æ±‚å€¼è¡¨è¾¾å¼ï¼ˆæ¨¡å‹ï¼‰ä¸­çš„ä»»ä½•HTMLæ ‡è®°éƒ½è¿›è¡Œè½¬ä¹‰ã€‚

`ng-bind-html-unsafe`æŒ‡ä»¤ï¼šå…³æ‰é»˜è®¤çš„HTMLæ ‡ç­¾è½¬ä¹‰

`ng-bind-html`æŒ‡ä»¤ï¼šå…è®¸å…¶å®ƒæ ‡ç­¾è¢«æµè§ˆå™¨æ‰€è§£é‡Š

## 4.3 æ¡ä»¶åŒ–æ˜¾ç¤º

> ng-show/ng-hideï¼šåˆ©ç”¨CSSç°å®è§„åˆ™ï¼Œéšè—DOMæ ‘çš„ä¸€éƒ¨åˆ†
>
> åº”ç”¨`style="display: none"`æ¥éšè—DOMå…ƒç´ ï¼Œè¿™äº›å…ƒç´ å¹¶ä¸ä»DOMæ ‘ä¸­ç§»èµ°ã€‚

> ng-switchï¼šä»ç‰©ç†ä¸Šæ ¹æ®æ¡ä»¶å¢åŠ å’Œç§»é™¤DOMèŠ‚ç‚¹
>
> ä¼šåœ¨DOMæ ‘ä¸Šå¢åŠ ï¼ç§»é™¤DOMå…ƒç´ ï¼Œä¸”åˆ›å»ºæ–°çš„ä½œç”¨åŸŸ

> ng-ifï¼šä¸ng-switchè¡Œä¸ºç±»ä¼¼ï¼ŒåŒæ ·æ˜¯åœ¨DOMæ ‘ä¸Šå¢åŠ æˆ–ç§»é™¤å…ƒç´ 

#### æ ¹æ®æ¡ä»¶åŒ…å«å†…å®¹å—

> ng-cludeæŒ‡ä»¤ä¹Ÿå¯ä»¥æ ¹æ®æ¡ä»¶æ˜¾ç¤ºåŠ¨æ€çš„ã€Angular JSæ”¯æŒçš„æ ‡è®°å—ã€‚å®ƒèƒ½æ ¹æ®è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœï¼Œæœ‰æ¡ä»¶åœ°åŠ è½½å’Œæ˜¾ç¤ºå­æ¨¡æ¿ã€‚ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸã€‚

## 4.4 ç”¨ngRepeatæŒ‡ä»¤æ¸²æŸ“é›†åˆ

### ç‰¹æ®Šå˜é‡

> Angular JSé‡å¤å™¨åœ¨ä¸ºæ¯ä¸ªç‹¬ç«‹æ¡ç›®åˆ›å»ºä½œç”¨åŸŸæ—¶ï¼Œéƒ½ä¼šå£°æ˜ä¸€ç»„ç‰¹æ®Šå˜é‡ï¼Œå®ƒä»¬å¯ç”¨äºç¡®è®¤æ­¤å…ƒç´ åœ¨é›†åˆä¸­çš„ä½ç½®ã€‚
>
> - $indexï¼šæŒ‡ä»£å…ƒç´ åœ¨é›†åˆä¸­çš„ç´¢å¼•æ•°å­—ï¼Œä»0å¼€å§‹ã€‚
> - $firstã€$middleã€$lastï¼šä¼šæ ¹æ®å…ƒç´ çš„ä½ç½®è·å¾—å¯¹åº”çš„å¸ƒå°”å€¼ã€‚

### è¿­ä»£å¯¹è±¡çš„å±æ€§

ä½†æ˜¯ä¸èƒ½æ§åˆ¶è¿­ä»£çš„é¡ºåº

### ngRepeatæ¨¡å¼

#### åˆ—è¡¨å’Œç»†èŠ‚

##### 1. æ˜¾ç¤ºå•è¡Œç»†èŠ‚

```javascript
<table class="table table-bordered">
            <tbody ng-repeat="user in vm.users" ng-click="vm.selectUser(user)" ng-switch on="vm.isSelected(user)">
                <tr>
                    <td>{{user.name}}</td>
                    <td>{{user.email}}</td>
                </tr>
                <tr ng-switch-when="true">
                    <td>{{user.desc}}</td>
                </tr>
            </tbody>
        </table>
```

```javascript
vm.users = [
            {
                name: 'wang',
                email: '123@126.com',
                desc: '1111'
            },
            {
                name: 'wangLi',
                email: '1234@126.com',
                desc: '22222'
            },
            {
                name: 'wangER',
                email: '12345@126.com',
                desc: '33333'
            }
        ];

        vm.selectUser = function (user) {
            vm.selectedUser = user;
        };
        vm.isSelected = function (user) {
            return vm.selectedUser === user;
        }
```

##### 2. æ˜¾ç¤ºå¤šè¡Œç»†èŠ‚

```javascript
<table class="table table-bordered">
            <tbody ng-repeat="user in vm.users" ng-click="vm.toggleSelected(user)" ng-switch on="vm.isSelected(user)" ng-controller="UserCtrl">
                <tr>
                    <td>{{user.name}}</td>
                    <td>{{user.email}}</td>
                </tr>
                <tr ng-switch-when="true">
                    <td>{{user.desc}}</td>
                </tr>
            </tbody>
</table>
```

```javascript
.controller('UserCtrl', function($scope) {

  $scope.toggleSelected = function() {
    $scope.selected = !$scope.selected;
  }
  $scope.isSelected = function() {
    return $scope.selected;
  }
})
```

ç‰¹åˆ«ä¹‹å¤„åœ¨äºç»™æ¯ä¸ªè¢«repeatå‡ºæ¥çš„é¡¹æ·»åŠ ng-controllerï¼Œè¿˜æ²¡ç”¨ç¢°åˆ°è¿‡è¿™ä¹ˆç”¨çš„ã€‚

ä¹¦ä¸Šè¯´è¿™æ ·å¯ä»¥ç”¨ä¸“å±çš„æ§åˆ¶å™¨æ¥ç®¡ç†é›†åˆä¸­çš„å•ä¸ªé¡¹ã€‚èƒ½å¤Ÿå¾ˆå¹²å‡€åœ°å°è£…å•é¡¹ç‰¹å®šçš„å˜é‡å’Œè¡Œä¸ºã€‚

#### æ”¹åŠ¨è¡¨æ ¼ã€è¡Œå’Œç±»

ç»™åˆ—è¡¨æ·»åŠ æ–‘é©¬çº¹

ngClassEvenã€ngClassOdd

## 4.5 DOMäº‹ä»¶å¤„ç†

> Angular JSå¯¹ä¸åŒ çš„äº‹ä»¶æœ‰å†…ç½®æ”¯æŒï¼Œç”±å¦‚ä¸‹æŒ‡ä»¤å®ç°ï¼š
>
> - ç‚¹å‡»äº‹ä»¶ï¼šngClickå’ŒngDbClickã€‚
> - é¼ æ ‡äº‹ä»¶ï¼š
> - é”®ç›˜äº‹ä»¶
> - è¾“å…¥å˜åŠ¨äº‹ä»¶ï¼šngChangeæŒ‡ä»¤ä¸ngModelé…åˆå·¥ä½œï¼Œåœ¨ç”¨äºè¾“å…¥å¼•èµ·æ¨¡å‹å˜åŠ¨æ—¶åšå‡ºååº”ã€‚
>
> ä¸Šè¿°çš„DOMäº‹ä»¶å¤„ç†å™¨èƒ½å¤Ÿæ¥æ”¶ç‰¹åˆ«çš„å‚æ•°`$event`ï¼Œä»¥è¡¨ç¤ºåŸå§‹çš„DOMäº‹ä»¶ï¼Œè¿™è®©æˆ‘ä»¬å¯ä»¥è®¿é—®äº‹ä»¶çš„åº•å±‚å±æ€§ã€é˜»æ­¢é»˜è®¤å‘ç”Ÿçš„åŠ¨ä½œã€åœæ­¢äº‹ä»¶ä¼ æ’­ç­‰ã€‚

ä¸¾ä¸€ä¸ªğŸŒ°ï¼Œè¯»å–è¢«ç‚¹å‡»å…ƒç´ çš„ç‚¹å‡»ä½ç½®ï¼š

```javascript
<ul>
   <li ng-repeat="user in vm.users" class="div" ng-click="vm.logPosition(user, $event)"></li>
</ul>
```

```javascript
vm.logPosition = function (a, $event) {
   console.log(a.name + ' was clicked at: ' + $event.clientX + ',' + $event.clientY);
}
```

## 4.6 åŸºäºDOMçš„æ¨¡æ¿

### ä¹ æƒ¯çƒ¦ççš„è¯­æ³•

### ngRepeatå’Œå¤šä¸ªDOMå…ƒç´ 

> ng-repeat-startã€ng-repeat-end å¯ä»¥è¿­ä»£ä¸€ç»„ç›¸é‚»çš„å…ƒç´ 

### ä¸èƒ½åœ¨è¿è¡Œæ—¶ä¿®æ”¹çš„å…ƒç´ å’Œå±æ€§

## 4.7 ä½¿ç”¨è¿‡æ»¤å™¨å¤„ç†æ¨¡å‹å˜æ¢

> ```javascript
> {{user.signedUp | date: 'yyyy-MM-dd'}}
> ```
>
> è¿‡æ»¤å™¨æ˜¯å…¨å±€çš„å‘½åå‡½æ•°ï¼Œåœ¨è§†å›¾ä¸­ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆï½œï¼‰è°ƒç”¨ï¼Œæ¥æ”¶ç”¨å†’å·ï¼ˆ:ï¼‰åˆ†éš”çš„å‚æ•°ã€‚
>
> è¿˜å¯ä»¥ç”¨å®šä¹‰åœ¨ä½œç”¨åŸŸä¸Šçš„formatDateå‡½æ•°é‡å†™
>
> ```javascript
> {{ formatDate(user.signedUp, 'yyyy-MM-dd') }}
> ```
>
> è¿‡æ»¤å™¨çš„ä¼˜ç‚¹ï¼šä¸è¦åœ¨ä½œç”¨åŸŸä¸Šæ³¨å†Œå‡½æ•°ï¼Œä¸è§„æ•´çš„å‡½æ•°è°ƒç”¨ç›¸æ¯”ï¼Œæœ‰æ›´ç®€æ´çš„è¯­æ³•ã€‚
>
> å‡ ä¸ªè¿‡æ»¤å™¨å¯ä»¥æ··åˆæˆä¸€ä¸ªå˜æ¢ç®¡é“
>
> ```javascript
> {{myLongString | limit: 80 | lowercase}}
> ```

### å†…ç½®è¿‡æ»¤å™¨

#### æ ¼å¼åŒ–è¿‡æ»¤å™¨

> - currency
> - date
> - number 
> - lowercaseã€uppercase
> - json

#### æ•°ç»„å˜æ¢è¿‡æ»¤å™¨

> - limitToï¼šå®ƒå°†æ•°ç»„æ”¶ç¼©åˆ°å‚æ•°åˆ¶å®šçš„é•¿åº¦ï¼Œå¯ä»¥ä»é›†åˆçš„å¤´æˆ–å°¾å¼€å§‹ä¿ç•™å…¶ä¸­çš„å…ƒç´ ï¼ˆå¦‚æœæ˜¯å°¾éƒ¨ï¼Œåˆ™å‚æ•°å¿…é¡»ä¸ºè´Ÿæ•°ï¼‰ã€‚
> - Filter
> - orderBy

##### 1. ä½¿ç”¨â€œfilterâ€è¿‡æ»¤å™¨è¿›è¡Œè¿‡æ»¤

> å¯ä»¥ä¸ºè¿‡æ»¤å™¨æä¾›ä¸€ä¸ªå¯¹è±¡å‚æ•°
>
> è¿˜å¯ä»¥ä½¿ç”¨"$"ä½œä¸ºå±æ€§å
>
> è¿˜å¯ä»¥ä½¿ç”¨å‡½æ•°

###### å¯¹è¿‡æ»¤ç»“æœè®¡æ•°

```javascript
ng-repeat="item in filteredBacklog = (backlog | filter: {$: criteria, done: false})"
```

è®¡æ•°

```javascript
Total: {{filteredBacklog.length}}
```

æŠŠè¿‡æ»¤é€»è¾‘å†™åœ¨è§†å›¾é‡Œä¸å¤ªå¥½ã€‚

##### 2. ç”¨orderByè¿‡æ»¤å™¨æ’åº

> orderByè¿‡æ»¤å™¨ç”¨åœ¨filteråé¢æ¯”è¾ƒå¥½ï¼Œå› ä¸ºæ’åºçš„ä»£ä»·æ¯”è¿‡æ»¤å¤§

### ç¼–å†™è‡ªå®šä¹‰è¿‡æ»¤å™¨â€”â€”åˆ†é¡µç¤ºä¾‹

### ä»JSä»£ç ä¸­è®¿é—®è¿‡æ»¤å™¨

### è¿‡æ»¤å™¨åšä»€ä¹ˆä¸ä¸åšä»€ä¹ˆ

#### è¿‡æ»¤å™¨ä¸DOMæ“ä½œ

> è¿‡æ»¤å™¨è¾“å‡ºçš„HTMLæ ‡è®°ä¸èƒ½åŒ…å«ä»»ä½•Angular JSæŒ‡ä»¤ï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šè¢«æ±‚å€¼ã€‚





